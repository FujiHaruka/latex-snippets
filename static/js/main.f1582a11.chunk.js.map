{"version":3,"sources":["webpack:///./src/Svg2PngWorker.js?5203","MathJaxLoader.jsx","App.js","index.js","Svg2PngWorker.js"],"names":["module","exports","Worker","MathJaxContext","createContext","ready","MathJaxLoader","children","useState","setReady","useEffect","window","MathJax","tex","inlineMath","svg","fontCache","startup","defaultReady","Provider","value","worker","App","useContext","setTex","src","width","height","imgSrc","setImgSrc","tex2svgPromise","display","then","a","firstElementChild","baseVal","valueInSpecifiedUnits","processData","outerHTML","emSize","EX_SIZE","pngUrl","className","onChange","e","target","spellCheck","alt","ReactDOM","render","StrictMode","document","getElementById","inst","wrap","f","this"],"mappings":"oJAAAA,EAAOC,QAAU,WACf,OAAO,IAAIC,OAAO,IAA0B,oC,gICCxCC,EAAiBC,wBAAc,CAAEC,OAAO,IAIjCC,EAAgB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACnBC,oBAAS,GADU,mBACtCH,EADsC,KAC/BI,EAD+B,KAoB7C,OAlBAC,qBAAU,WAERC,OAAOC,QAAU,CACfC,IAAK,CACHC,WAAY,CAAC,CAAC,IAAK,OAErBC,IAAK,CACHC,UAAW,QAEbC,QAAS,CACPZ,MAAO,WACLM,OAAOC,QAAQK,QAAQC,eACvBT,GAAS,MAIV,mCACJ,IAED,cAACN,EAAegB,SAAhB,CAAyBC,MAAO,CAAEf,SAAlC,SACGE,K,OCrBDc,EAAS,I,OAAInB,GA+DJoB,MA3Df,WAAgB,IACNjB,EDR6BkB,qBAAWpB,GCQxCE,MADK,EAESG,mBAAS,UAFlB,mBAENK,EAFM,KAEDW,EAFC,OAGehB,mBAAS,CAAEiB,IAAK,GAAIC,MAAO,EAAGC,OAAQ,IAHrD,mBAGNC,EAHM,KAGEC,EAHF,KA6Bb,OAzBAnB,qBAAU,WACHL,GAGLM,OAAOC,QAAQkB,eAAejB,EAAK,CACjCkB,SAAS,IACRC,KAFH,uCAEQ,WAAOnB,GAAP,qBAAAoB,EAAA,6DACNtB,OAAOE,IAAMA,EACPa,EAdI,GAeRb,EAAIqB,kBAAkBR,MAAMS,QAAQC,sBAChCT,EAhBI,GAiBRd,EAAIqB,kBAAkBP,OAAOQ,QAAQC,sBALjC,SAMmBf,EAAOgB,YAAY,CAC1CtB,IAAKF,EAAIyB,UACTZ,QACAC,SACAY,OAAQC,MAVJ,gBAMEC,EANF,EAMEA,OAMRZ,EAAU,CACRJ,IAAKgB,EACLf,MAAOA,EAAQ,EACfC,OAAQA,EAAS,IAfb,2CAFR,yDAoBC,CAACtB,EAAOQ,IAET,sBAAK6B,UAAU,MAAf,UACE,wBAAQA,UAAU,aAAlB,SACE,oBAAIA,UAAU,mBAAd,8BAEF,sBAAKA,UAAU,WAAf,UACE,qBAAKA,UAAU,eAAf,SACE,0BACEA,UAAU,eACVtB,MAAOP,EACP8B,SAAU,SAACC,GAAD,OAAOpB,EAAOoB,EAAEC,OAAOzB,QACjC0B,YAAY,MAGhB,qBAAKJ,UAAU,eAAf,SACGd,EAAOH,KACN,qBACEiB,UAAU,YACVjB,IAAKG,EAAOH,IACZC,MAAOE,EAAOF,MACdC,OAAQC,EAAOD,OACfoB,IAAI,cCvDlBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,U,kBCZ1B,IAAuaC,EAAnaC,EAAO,EAAQ,IAAWA,KAAKpD,EAAS,EAAQ,IAAwXF,EAAOC,QAAU,SAASsD,IAAK,OAAIC,gBAAgBD,EAAUD,EAAKpD,KAAiBmD,IAASA,EAAOC,EAAKpD,S","file":"static/js/main.f1582a11.chunk.js","sourcesContent":["module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"63ad6a3443fe81a166b8.worker.js\");\n};","import { createContext, useContext, useEffect, useState } from \"react\";\n\nconst MathJaxContext = createContext({ ready: false });\n\nexport const useMathJaxContext = () => useContext(MathJaxContext);\n\nexport const MathJaxLoader = ({ children }) => {\n  const [ready, setReady] = useState(false);\n  useEffect(() => {\n    // Load MathJax\n    window.MathJax = {\n      tex: {\n        inlineMath: [[\"$\", \"$\"]],\n      },\n      svg: {\n        fontCache: \"none\",\n      },\n      startup: {\n        ready: () => {\n          window.MathJax.startup.defaultReady();\n          setReady(true);\n        },\n      },\n    };\n    void import(\"mathjax/es5/tex-svg-full\");\n  }, []);\n  return (\n    <MathJaxContext.Provider value={{ ready }}>\n      {children}\n    </MathJaxContext.Provider>\n  );\n};\n","import \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport { useMathJaxContext } from \"./MathJaxLoader\";\n\n// eslint-disable-next-line\nimport Worker from \"comlink-loader!./Svg2PngWorker\";\n\nconst worker = new Worker();\n\nconst EX_SIZE = 64;\n\nfunction App() {\n  const { ready } = useMathJaxContext();\n  const [tex, setTex] = useState(\"ax^2=c\");\n  const [imgSrc, setImgSrc] = useState({ src: \"\", width: 0, height: 0 });\n  useEffect(() => {\n    if (!ready) {\n      return;\n    }\n    window.MathJax.tex2svgPromise(tex, {\n      display: false,\n    }).then(async (tex) => {\n      window.tex = tex;\n      const width =\n        tex.firstElementChild.width.baseVal.valueInSpecifiedUnits * EX_SIZE;\n      const height =\n        tex.firstElementChild.height.baseVal.valueInSpecifiedUnits * EX_SIZE;\n      const { pngUrl } = await worker.processData({\n        svg: tex.outerHTML,\n        width,\n        height,\n        emSize: EX_SIZE * 2,\n      });\n      setImgSrc({\n        src: pngUrl,\n        width: width / 4,\n        height: height / 4,\n      });\n    });\n  }, [ready, tex]);\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h2 className=\"App-header-title\">LaTeX to Image</h2>\n      </header>\n      <div className=\"App-body\">\n        <div className=\"App-body-col\">\n          <textarea\n            className=\"App-textarea\"\n            value={tex}\n            onChange={(e) => setTex(e.target.value)}\n            spellCheck={false}\n          />\n        </div>\n        <div className=\"App-body-col\">\n          {imgSrc.src && (\n            <img\n              className=\"App-image\"\n              src={imgSrc.src}\n              width={imgSrc.width}\n              height={imgSrc.height}\n              alt=\"\"\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { MathJaxLoader } from \"./MathJaxLoader\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <MathJaxLoader>\n      <App />\n    </MathJaxLoader>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","var wrap = require('comlink').wrap,Worker = require(\"!worker-loader?{}!/Users/fujiharuka/dev/src/github.com/FujiHaruka/latex-snippets/node_modules/comlink-loader/dist/comlink-worker-loader.js!/Users/fujiharuka/dev/src/github.com/FujiHaruka/latex-snippets/node_modules/react-scripts/node_modules/babel-loader/lib/index.js??ref--5-oneOf-2!/Users/fujiharuka/dev/src/github.com/FujiHaruka/latex-snippets/src/Svg2PngWorker.js\"),inst;module.exports = function f() {if (this instanceof f) return wrap(Worker());return inst || (inst = wrap(Worker()));};"],"sourceRoot":""}